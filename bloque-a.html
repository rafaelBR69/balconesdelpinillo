<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ESTILOS COMUNES -->
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="./mediaquaries.css">
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <!-- FUENTES GOOGLE -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Poppins:wght@100;400;700&display=swap"
        rel="stylesheet">

  <!-- i18next -->
  <script src="https://unpkg.com/i18next@23/i18next.min.js"></script>
  <script src="https://unpkg.com/i18next-http-backend@2/i18nextHttpBackend.min.js"></script>
  <script src="https://unpkg.com/i18next-browser-languagedetector@8/i18nextBrowserLanguageDetector.min.js"></script>

  <title data-i18n="blockA.title">Bloque A · Planos</title>
</head>

<body>

<!-- █ NAVBAR (copiado) █ -->
<header>
  <nav>
    <div class="logo">
      <span data-i18n="brand.part1"></span><span data-i18n="brand.part2"></span>
    </div>

    <div class="burgar" onclick="toggleNav()">&#9776;</div>

    <ul class="nav-links" id="navLinks">
      <li><a href="index.html"        data-i18n="nav.home"></a></li>
      <li><a href="availability.html" data-i18n="nav.availability"></a></li>
      <li><a href="contact.html"      data-i18n="nav.contact"></a></li>
    </ul>

    <div class="btn">
      <a class="sign_up primary" href="contact.html#contactForm"
        data-i18n="btn.contact"></a>
    </div>
  </nav>
</header>



<!-- █ HERO BLOQUE A █ -->
<section class="section_1 section_1--availability" data-json="viviendas-a.json">

  <div class="plan-container"><!-- contenedor global -->

    <!-- Caja RELATIVA: sirve de referencia a todo lo superpuesto -->
    <div class="plan-box">

      <!-- ✦ TEXTO DINÁMICO SUPERPUESTO (empieza vacío) -->
      <div id="info-text" class="info-text">
        <p data-i18n="blockA.clickHint">Haz clic en una vivienda…</p>
      </div>

      <!-- PLANO + MAPA -->
      <img src="images/bloque.webp"
           id="blockA-img"
           usemap="#blockA-map"
           data-i18n="[alt]blockA.imgAlt"  <!-- ✦ cambiado -->
           alt="Plano de viviendas Bloque A">

      <!-- TÍTULOS SOBRE EL PLANO -->
      <div class="bg_div">
        <h2 class="bg_text1" data-i18n="blockA.heroTitle"></h2>
        <h2 class="bg_text2" data-i18n="blockA.heroSub"></h2>
      </div>
    </div><!-- /plan-box -->

    <!-- NUEVO · formulario de interés -->
    <form id="leadFormBlock" class="lead-card" data-lead autocomplete="off">
      <h3 data-i18n="leadForm.title">¿Te interesa?</h3>   <!-- ✦ cambiado -->

      <label data-i18n="popup.nameLabel">
        Nombre
        <input type="text"  name="name"   required>
      </label>

      <label data-i18n="popup.emailLabel">
        Email
        <input type="email" name="email"  required>
      </label>

      <label data-i18n="popup.phoneLabel">
        Teléfono
        <input type="tel"   name="phone"  required>
      </label>

      <label data-i18n="popup.msgLabel">
        Mensaje
        <textarea name="message" rows="3"
                  data-i18n="[placeholder]leadForm.msgPlaceholderHousing"
                  placeholder="Quiero más información sobre esta vivienda…">
        </textarea>
      </label>

      <button type="submit" data-i18n="popup.send">Enviar</button>
    </form>

  </div><!-- /plan-container -->

  <!-- … el resto del <map> sigue igual … -->
  <map name="blockA-map">
    <!-- áreas -->
  </map>

</section>

<!-- █ FUTURO CONTENIDO / DESCRIPCIÓN █ -->
<section class="section_3">
  <div class="service-header reveal">
    <h1 data-i18n="blockA.infoTitle">Elige planta y tipología</h1>
    <p  data-i18n="blockA.infoText">Próximamente más detalles y fichas
      descargables.</p>
  </div>
</section>

<!-- █ FOOTER (idéntico) █ -->
<footer>
  <p data-i18n="footer.contact"></p>
  <p>
    <span data-i18n="footer.follow"></span><br>
    <div class="social">
          <a href="https://www.instagram.com/blancarealspain/?hl=es"
            target="_blank" rel="noopener" aria-label="Instagram">
            <i class="fa-brands fa-instagram fa-fw"></i>
          </a>

          <a href="https://es.linkedin.com/company/blancareal-real-estate"
            target="_blank" rel="noopener" aria-label="LinkedIn">
            <i class="fa-brands fa-linkedin fa-fw"></i>
          </a>

          <!-- Icono globo (sitio web oficial) -->
          <a href="https://www.blancareal.com/"
            target="_blank" rel="noopener" aria-label="Sitio web">
            <i class="fa-solid fa-globe fa-fw"></i>
          </a>

          <!-- Icono YouTube -->
          <a href="https://www.youtube.com/@BlancaRealSpain"
            target="_blank" rel="noopener" aria-label="YouTube">
            <i class="fa-brands fa-youtube fa-fw"></i>
          </a>
        </div>
  </p>
  <p class="footer-text1" data-i18n="footer.copyright"></p>
  <p class="footer-text1" data-i18n="footer.developer"></p>
</footer>

<!-- 1. jQuery -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<!-- 2. ImageMapster -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/imagemapster/1.5.4/jquery.imagemapster.min.js"></script>
<!-- 3. PDF.js -->
<script src="https://unpkg.com/pdfjs-dist@2.16.105/build/pdf.min.js"></script>
<script>
  pdfjsLib.GlobalWorkerOptions.workerSrc =
    "https://unpkg.com/pdfjs-dist@2.16.105/build/pdf.worker.min.js";
</script>

<!-- 4. Tu código principal -->
<script src="./app.js"></script>

<!-- 5. Inicialización de i18next -->
<script>
  /*  Esta función actualiza tanto innerHTML como atributos [placeholder] / [alt]  */
  function renderPage () {
    /* ① nodos con texto interno */
    document.querySelectorAll('[data-i18n]:not([data-i18n*="[")')
      .forEach(el => el.innerHTML = i18next.t(el.dataset.i18n));

    /* ② nodos con sintaxis [attr]clave */
    document.querySelectorAll('[data-i18n*="["]')
      .forEach(el => {
        el.dataset.i18n.split(';').forEach(p => {
          const m = p.match(/^\s*\[([^\]]+)]\s*(.+)$/);
          if (m) {
            const attr = m[1];
            const key  = m[2];
            el.setAttribute(attr, i18next.t(key));
          }
        });
      });
  }

  i18next
    .use(i18nextHttpBackend)
    .use(i18nextBrowserLanguageDetector)
    .init({
      fallbackLng : 'es',
      load        : 'languageOnly',
      backend     : { loadPath : 'langs/{{lng}}.json' }
    }, renderPage);

  i18next.on('languageChanged', renderPage);
</script>

</body>
</html>
